<%- include('../header') %>
    <%- include('../aside') %>
        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <h1>
                    <i class="fa fa-edit"></i><b> Sửa danh mục</b>
                </h1>

            </section>

            <!-- Main content -->
            <section class="content">
                <!-- Default box -->
                <div class="box">
                    <div class="row">
                        <div class="col-md-4">

                            <form action="/danh-muc/chinh-sua/<%= category.id %>" method="POST" role="form">
                                <div class="box-body">
                                    <% if (typeof error !=='undefined' && error) { %>
                                        <div class="alert alert-danger alert-dismissible">
                                            <button type="button" class="close" data-dismiss="alert"
                                                aria-hidden="true">&times;</button>
                                            <h4><i class="icon fa fa-ban"></i> Lỗi!</h4>
                                            <%= error %>
                                        </div>
                                        <% } %>
                                            <div class="form-group">
                                                <label for="">Tên danh mục</label>
                                                <input type="text" class="form-control" id=""
                                                    placeholder="Nhập tên danh mục" name="name"
                                                    value="<%= category.name %>">
                                            </div>
                                            <div class="form-group">
                                                <label for="">Mô tả danh mục</label>
                                                <textarea class="form-control" id="" placeholder="Nhập mô tả danh mục"
                                                    name="mota" rows="8"> <%= category.mota%> </textarea>
                                            </div>
                                            <div class="form-group">
                                                <label for="">Trạng thái danh mục</label>

                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" name="status" value="1"
                                                            <%=category.status==1 ? 'checked' : '' %>>
                                                        Hiển thị
                                                    </label>
                                                </div>
                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" name="status" value="0"
                                                            <%=category.status==0 ? 'checked' : '' %> >
                                                        Tạm ẩn
                                                    </label>
                                                </div>
                                            </div>
                                </div>

                                <div class="box-footer">
                                    <button type="submit" class="btn btn-primary"><i class="fa fa-save"></i> Lưu
                                        lại</button>
                                    <a href="/danh-muc" class="btn btn-default pull-right"><i
                                            class="fa fa-arrow-left"></i>
                                        Quay lại</a>
                                </div>

                            </form>

                        </div>
                    </div>
                </div>
                <!-- /.box -->

            </section>
            <!-- /.content -->
        </div>
        <script>
            document.querySelector('form').addEventListener('submit', function (e) {
                const nameInput = document.querySelector('input[name="name"]');
                if (!nameInput.value.trim()) {
                    e.preventDefault(); // Ngăn không cho form gửi đi
                    alert('Tên danh mục không được để trống!');
                    nameInput.focus();
                }
            });
        </script>
        <!-- /.content-wrapper -->
        <%- include('../footer') %>